{"version":3,"file":"index.umd.js","sources":["../src/index.js"],"sourcesContent":["let candidateSelectors = [\n  'input',\n  'select',\n  'textarea',\n  'a[href]',\n  'button',\n  '[tabindex]',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]:not([contenteditable=\"false\"])',\n  'details>summary',\n];\nlet candidateSelector = /* #__PURE__ */ candidateSelectors.join(',');\n\nlet matches =\n  typeof Element === 'undefined'\n    ? function () {}\n    : Element.prototype.matches ||\n      Element.prototype.msMatchesSelector ||\n      Element.prototype.webkitMatchesSelector;\n\nfunction tabbable(el, options) {\n  options = options || {};\n\n  let regularTabbables = [];\n  let orderedTabbables = [];\n\n  let candidates = getCandidates(\n    el,\n    options.includeContainer,\n    isNodeMatchingSelectorTabbable\n  );\n\n  candidates.forEach(function (candidate, i) {\n    let candidateTabindex = getTabindex(candidate);\n    if (candidateTabindex === 0) {\n      regularTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        node: candidate,\n      });\n    }\n  });\n\n  let tabbableNodes = orderedTabbables\n    .sort(sortOrderedTabbables)\n    .map((a) => a.node)\n    .concat(regularTabbables);\n\n  return tabbableNodes;\n}\n\nfunction focusable(el, options) {\n  options = options || {};\n\n  let candidates = getCandidates(\n    el,\n    options.includeContainer,\n    isNodeMatchingSelectorFocusable\n  );\n\n  return candidates;\n}\n\nfunction getCandidates(el, includeContainer, filter) {\n  let candidates = Array.prototype.slice.apply(\n    el.querySelectorAll(candidateSelector)\n  );\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n  candidates = candidates.filter(filter);\n  return candidates;\n}\n\nfunction isNodeMatchingSelectorTabbable(node) {\n  if (\n    !isNodeMatchingSelectorFocusable(node) ||\n    isNonTabbableRadio(node) ||\n    getTabindex(node) < 0\n  ) {\n    return false;\n  }\n  return true;\n}\n\nfunction isTabbable(node) {\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorTabbable(node);\n}\n\nfunction isNodeMatchingSelectorFocusable(node) {\n  if (node.disabled || isHiddenInput(node) || isHidden(node)) {\n    return false;\n  }\n  return true;\n}\n\nlet focusableCandidateSelector = /* #__PURE__ */ candidateSelectors\n  .concat('iframe')\n  .join(',');\nfunction isFocusable(node) {\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorFocusable(node);\n}\n\nfunction getTabindex(node) {\n  let tabindexAttr = parseInt(node.getAttribute('tabindex'), 10);\n\n  if (!isNaN(tabindexAttr)) {\n    return tabindexAttr;\n  }\n\n  // Browsers do not return `tabIndex` correctly for contentEditable nodes;\n  // so if they don't have a tabindex attribute specifically set, assume it's 0.\n  if (isContentEditable(node)) {\n    return 0;\n  }\n\n  // in Chrome, <audio controls/> and <video controls/> elements get a default\n  //  `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n  //  yet they are still part of the regular tab order; in FF, they get a default\n  //  `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n  //  order, consider their tab index to be 0\n  if (\n    (node.nodeName === 'AUDIO' || node.nodeName === 'VIDEO') &&\n    node.getAttribute('tabindex') === null\n  ) {\n    return 0;\n  }\n\n  return node.tabIndex;\n}\n\nfunction sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex\n    ? a.documentOrder - b.documentOrder\n    : a.tabIndex - b.tabIndex;\n}\n\nfunction isContentEditable(node) {\n  return node.contentEditable === 'true';\n}\n\nfunction isInput(node) {\n  return node.tagName === 'INPUT';\n}\n\nfunction isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n}\n\nfunction isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n}\n\nfunction isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n}\n\nfunction getCheckedRadio(nodes, form) {\n  for (let i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n}\n\nfunction isTabbableRadio(node) {\n  if (!node.name) {\n    return true;\n  }\n  const radioScope = node.form || node.ownerDocument;\n  let radioSet = radioScope.querySelectorAll(\n    'input[type=\"radio\"][name=\"' + node.name + '\"]'\n  );\n  let checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n}\n\nfunction isHidden(node) {\n  if (getComputedStyle(node).visibility === 'hidden') return true;\n\n  while (node) {\n    if (getComputedStyle(node).display === 'none') return true;\n    node = node.parentElement;\n  }\n\n  return false;\n}\n\nexport { tabbable, focusable, isTabbable, isFocusable };\n"],"names":["candidateSelectors","candidateSelector","join","matches","Element","prototype","msMatchesSelector","webkitMatchesSelector","tabbable","el","options","regularTabbables","orderedTabbables","candidates","getCandidates","includeContainer","isNodeMatchingSelectorTabbable","forEach","candidate","i","candidateTabindex","getTabindex","push","documentOrder","tabIndex","node","tabbableNodes","sort","sortOrderedTabbables","map","a","concat","focusable","isNodeMatchingSelectorFocusable","filter","Array","slice","apply","querySelectorAll","call","unshift","isNonTabbableRadio","isTabbable","Error","disabled","isHiddenInput","isHidden","focusableCandidateSelector","isFocusable","tabindexAttr","parseInt","getAttribute","isNaN","isContentEditable","nodeName","b","contentEditable","isInput","tagName","type","isRadio","isTabbableRadio","getCheckedRadio","nodes","form","length","checked","name","radioScope","ownerDocument","radioSet","getComputedStyle","visibility","display","parentElement"],"mappings":"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"}